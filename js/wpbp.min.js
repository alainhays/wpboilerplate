/*
 * WPBP.js
 */
!function(a){a(function(){a(document).ready(function(){a(".ir, .imageReplace").imageReplace();a("form.ajax, form.ajax-form").ajaxForm();a(".smartbox").smartbox();a(".simpleSlider").simpleSlider();a(".valign, .vAlign").vAlign();a("ul.dropdownNav").dropdownNav();a(".same-height-as").sameHeightAs()});a(window).bind("load resize",function(){a(".valign, .vAlign").vAlign()})})}(window.jQuery);!function(a){a(function(){"use strict";jQuery.fn.imageReplace=function(){return this.each(function(){var b=a(this);var c=b.data("ir");if(typeof c!="undefined"){b.css("background-image","url("+c+")")}})}})}(window.jQuery);!function(a){a(function(){"use strict";jQuery.fn.vAlign=function(){return this.each(function(){var b=a(this);var c=typeof b.data("ref")!="undefined"?a(b.data("ref")):b.parent();var d=b.outerHeight(),e=c.outerHeight();var f=Math.round((e-d)/2);b.css("top",f+"px");b.addClass("valigned")})}})}(window.jQuery);!function(a){a(function(){"use strict";jQuery.fn.ajaxForm=function(){return this.each(function(){var b=a(this);var c=b.find(".fields");var d=b.find(".success");var e=b.find(".error");var f=b.find(".warning");var g=b.find(".loading");var h=b.attr("id");var i=b.attr("action");var j=b.attr("method");d.hide();f.hide();e.hide();g.hide();var k=false;c.find("input, textarea").keypress(function(){if(!k){k=true;b.addClass("started");if(typeof _gaq!="undefined"){_gaq.push(["_trackEvent","AjaxForms","Start",h])}}});b.submit(function(k){k.preventDefault();d.hide();f.hide();e.hide();g.show();var l=false;var m="valid success";var n="invalid error";b.find(".required").each(function(){var b=a(this);var c=b.parents(".control-group").first();if(b.val()==""){l=true;b.removeClass(m).addClass(n);c.removeClass(m).addClass(n)}else{b.removeClass(n).addClass(m);c.removeClass(n).addClass(m)}});b.find('.valid.email, .valid[type="email"]').each(function(){var b=a(this);var c=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;if(!c.test(b.val())){l=true;b.removeClass(m).addClass(n).parents(".control-group").removeClass(m).addClass(n)}else{b.removeClass(n).addClass(m).parents(".control-group").removeClass(n).addClass(m)}});if(!l){b.trigger("valid");a.ajax({type:j,url:i,data:b.serialize(),statusCode:{200:function(){d.fadeIn();c.hide();b.trigger("success").addClass("sent");if(typeof _gaq!="undefined"){_gaq.push(["_trackEvent","AjaxForms","Success",h])}},400:function(){f.fadeIn();b.trigger("warning");if(typeof _gaq!="undefined"){_gaq.push(["_trackEvent","AjaxForms","Warning",h])}},500:function(){b.trigger("error");e.fadeIn();if(typeof _gaq!="undefined"){_gaq.push(["_trackEvent","AjaxForms","Error",h])}}}})}else{b.trigger("invalid");d.hide();f.fadeIn();e.error()}g.hide()});b.trigger("enabled").addClass("ajax-enabled")})}})}(window.jQuery);!function(a){a(function(){"use strict";jQuery.fn.center=function(){return this.each(function(){var b=a(this);var c=b.outerWidth(true);var d=b.outerHeight(true);var e=a(window);var f=e.width();var g=e.height();var h=e.scrollTop();var i=Math.round((g-d)/2)+h;var j=Math.round((f-c)/2);b.css({position:"absolute",top:i+"px",left:j+"px"})})}})}(window.jQuery);!function(a){a(function(){"use strict";jQuery.fn.simpleSlider=function(){return this.each(function(){var b=a(this);var c=b.data("period")||5e3;var d=b.data("fx-speed")||500;var e=b.children();var f=e.size();var g=false;b.hover(function(){g=true},function(){g=false});var h=1;e.hide().first().show();setInterval(function(){if(!g){h=h==f?1:h+1;e.fadeOut(d).eq(h-1).delay(d).fadeIn(d)}},c)})}})}(window.jQuery);!function(a){a(function(){"use strict";jQuery.fn.smartbox=function(b,c){return this.each(function(){var b=a(this);var c=b.find(".title");var d=b.find(".content");var e=b.attr("id");if(b.hasClass("ajax")){var f=b.find("a.ajax-trigger").first();var g=b.data("src").replace("#"," #")||f.attr("href").replace("#"," #");if(b.hasClass("lazy")){f.click(function(a){a.preventDefault();if(!b.hasClass("ajax-loaded")){d.load(g,function(){b.addClass("ajax-loaded")})}})}else{d.load(g,function(){b.addClass("ajax-loaded")})}}if(b.hasClass("collapsible")){var h=b.find(".collapse-trigger, .title");var i=function(){h.each(function(){if(typeof a(this).attr("target")!="undefined"){return a(this).attr("target")}});return null};if(i()!=null){var j=a(i());if(j.size()>0){var d=j}}if(d.is(":visible")){b.addClass("open").removeClass("closed");d.show()}else{b.addClass("closed").removeClass("open");d.hide()}if(typeof e!="undefined"&&typeof window.location.hash!="undefined"&&window.location.hash=="#"+e){b.addClass("open").removeClass("closed");d.slideDown()}h.click(function(a){a.preventDefault();if(b.hasClass("open")){d.slideUp("slow",function(){b.addClass("closed").removeClass("open")})}else{d.slideDown("slow",function(){b.addClass("open").removeClass("closed")});if(typeof e!="undefined"){b.attr("id",e+"-tmp");window.location.hash=e;b.attr("id",e)}}})}})}})}(window.jQuery);!function(a){a(function(){"use strict";jQuery.fn.dropdownNav=function(){return this.each(function(){var b=a(this);var c=a(document.createElement("select")).insertBefore(a(this).hide()).addClass(a(this).attr("class"));a("a",this).each(function(){var b=a(document.createElement("option")).appendTo(c).val(this.href).html(a(this).html())});b.remove();c.change(function(){window.location.href=a(this).val()})})}})}(window.jQuery);!function(a){a(function(){"use strict";jQuery.fn.sameHeightAs=function(){return this.each(function(){var b=a(this);var c=b.data("ref");if(c&&a(c).size()){var d=a(c);b.height(d.height())}})}})}(window.jQuery)