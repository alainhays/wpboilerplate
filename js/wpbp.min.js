$(function(){$(document).ready(function(){$(".ir, .imageReplace").imageReplace();$("form.ajax, form.ajax-form").ajaxForm();$(".smartbox").smartbox();$(".simpleSlider").simpleSlider();$(".valign, .vAlign").vAlign();$(".fullCenter").center();$("ul.dropdownNav").dropdownNav();$(".same-height-as").sameHeightAs();$("body").wpbpModal();$(".wpbp-tabs").wpbpTabs()});$(window).bind("load resize",function(){$(".valign, .vAlign").vAlign()})});$(function(){"use strict";jQuery.fn.imageReplace=function(){return this.each(function(){var e=$(this);var t=e.data("ir");if(typeof t!="undefined"){e.css("background-image","url("+t+")")}})}});$(function(){"use strict";jQuery.fn.vAlign=function(){return this.each(function(){var e=$(this);var t=typeof e.data("ref")!="undefined"?$(e.data("ref")):e.parent();var n=e.outerHeight(),r=t.outerHeight();var i=Math.round((r-n)/2);e.css("top",i+"px");e.addClass("valigned")})}});$(function(){"use strict";jQuery.fn.ajaxForm=function(){return this.each(function(){var e=$(this);var t=e.find(".fields");var n=e.find(".success");var r=e.find(".error");var i=e.find(".warning");var s=e.find(".loading");var o=e.attr("id");var u=e.attr("action");var a=e.attr("method");var f=e.attr("enctype");n.hide();i.hide();r.hide();s.hide();var l=false;t.find("input, textarea").keypress(function(){if(!l){l=true;e.addClass("started");if(typeof _gaq!="undefined"){_gaq.push(["_trackEvent","AjaxForms","Start",o])}}});e.submit(function(l){l.preventDefault();n.hide();i.hide();r.hide();s.show();var c=false;var h="valid success";var p="invalid error";e.find(".required").each(function(){var e=$(this);var t=e.parents(".control-group").first();if(e.val()==""){c=true;e.removeClass(h).addClass(p);t.removeClass(h).addClass(p)}else{e.removeClass(p).addClass(h);t.removeClass(p).addClass(h)}});e.find('.valid.email, .valid[type="email"]').each(function(){var e=$(this);var t=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;if(!t.test(e.val())){c=true;e.removeClass(h).addClass(p).parents(".control-group").removeClass(h).addClass(p)}else{e.removeClass(p).addClass(h).parents(".control-group").removeClass(p).addClass(h)}});if(!c){e.trigger("valid");$.ajax({type:a,url:u,data:e.serialize(),contentType:f,statusCode:{200:function(){n.fadeIn();t.hide();e.trigger("success").addClass("sent");if(typeof _gaq!="undefined"){_gaq.push(["_trackEvent","AjaxForms","Success",o])}},400:function(){i.fadeIn();e.trigger("warning");if(typeof _gaq!="undefined"){_gaq.push(["_trackEvent","AjaxForms","Warning",o])}},500:function(){e.trigger("error");r.fadeIn();if(typeof _gaq!="undefined"){_gaq.push(["_trackEvent","AjaxForms","Error",o])}}}})}else{e.trigger("invalid");n.hide();i.fadeIn();r.error()}s.hide()});e.trigger("enabled").addClass("ajax-enabled")})}});$(function(){"use strict";jQuery.fn.center=function(){return this.each(function(){var e=$(this);var t=e.outerWidth(true);var n=e.outerHeight(true);var r=$(window);var i=r.width();var s=r.height();var o=r.scrollTop();var u=Math.max(Math.round((s-n)/2)+o,0);var a=Math.max(Math.round((i-t)/2),0);e.css({position:"absolute",top:u+"px",left:a+"px"})})}});$(function(){"use strict";jQuery.fn.simpleSlider=function(){return this.each(function(){var e=$(this);var t=e.data("period")||5e3;var n=e.data("fx-speed")||500;var r=e.children();var i=r.size();var s=false;e.hover(function(){s=true},function(){s=false});var o=1;r.hide().first().show();setInterval(function(){if(!s){o=o==i?1:o+1;r.fadeOut(n).eq(o-1).delay(n).fadeIn(n)}},t)})}});$(function(){"use strict";jQuery.fn.smartbox=function(e,t){return this.each(function(){var e=$(this);var t=e.find(".title");var n=e.find(".content");var r=e.attr("id");if(e.hasClass("ajax")){var i=e.find("a.ajax-trigger").first();var s=e.data("src").replace("#"," #")||i.attr("href").replace("#"," #");if(e.hasClass("lazy")){i.click(function(t){t.preventDefault();if(!e.hasClass("ajax-loaded")){n.load(s,function(){e.addClass("ajax-loaded")})}})}else{n.load(s,function(){e.addClass("ajax-loaded")})}}if(e.hasClass("collapsible")){var o=e.find(".collapse-trigger, .title");var u=function(){o.each(function(){if(typeof $(this).attr("target")!="undefined"){return $(this).attr("target")}});return null};if(u()!=null){var a=$(u());if(a.size()>0){var n=a}}if(n.is(":visible")){e.addClass("open").removeClass("closed");n.show()}else{e.addClass("closed").removeClass("open");n.hide()}if(typeof r!="undefined"&&typeof window.location.hash!="undefined"&&window.location.hash=="#"+r){e.addClass("open").removeClass("closed");n.slideDown()}o.click(function(t){t.preventDefault();if(e.hasClass("open")){n.slideUp("slow",function(){e.addClass("closed").removeClass("open")})}else{n.slideDown("slow",function(){e.addClass("open").removeClass("closed")});if(typeof r!="undefined"){e.attr("id",r+"-tmp");window.location.hash=r;e.attr("id",r)}}})}})}});$(function(){"use strict";jQuery.fn.dropdownNav=function(){return this.each(function(){var e=$(this).hide();var t=$(document.createElement("select")).insertBefore($(this)).addClass($(this).attr("class"));$("a",this).each(function(){var e=$(document.createElement("option")).appendTo(t).val(this.href).html($(this).html());if($(this).parent("li").hasClass("current-menu-item")){e.attr("selected","selected")}});e.remove();t.change(function(){window.location.href=$(this).val()})})}});$(function(){"use strict";jQuery.fn.sameHeightAs=function(){return this.each(function(){var e=$(this);var t=e.data("ref");if(t&&$(t).size()){var n=$(t);e.height(n.height())}})}});$(function(){"use strict";jQuery.fn.wpbpModal=function(){return this.each(function(){var e=250;var t=.5;var n=$("#wpbp-modal-blanket");var r=$('a[href^="#"]');var i=$(".wpbp-modal-box");r.each(function(){var e=$(this);var t=e.attr("href");var n=$(t);if(n.size()==1&&n.hasClass("wpbp-modal-box")){e.data("wpbp-target-modal-box",t).addClass("wpbp-modal-trigger")}});i.bind("open",function(){var r=$(this);n.fadeTo(e,t,function(){r.fadeIn(e,function(){r.trigger("opened").addClass("wpbp-modal-box-opened")})})}).bind("close",function(){var t=$(this);t.fadeOut(e,function(){n.fadeOut(e);t.trigger("closed").removeClass("wpbp-modal-box-opened")})}).center();$(".wpbp-modal-trigger").click(function(e){e.preventDefault();var t=$(this);var n=t.data("wpbp-target-modal-box");var r=$(n);if(r.size()==0||!r.hasClass("wpbp-modal-box")){console.log('Error: Target "'+n+'" is not a modal box!')}else{if(t.hasClass("wpbp-modal-open")){r.trigger("open")}else if(t.hasClass("wpbp-modal-close")){r.trigger("close")}else if(r.hasClass("wpbp-modal-box-opened")){r.trigger("close")}else{r.trigger("open")}}});i.filter(".wpbp-modal-open").trigger("open");n.click(function(){i.trigger("close")});$(window).keyup(function(e){if(e.which==27){i.trigger("close")}})})}});$(function(){"use strict";jQuery.fn.wpbpTabs=function(){return this.each(function(){var e=$(this),t=e.children(".tab-anchors").find("a"),n=e.children(".tab-contents").children(".tab");n.hide().filter(".active").show();t.bind("fire",function(){var e=$(this),r=e.attr("href"),i=$(r);n.removeClass("active").hide();i.addClass("active").show();t.removeClass("active");e.addClass("active")});t.click(function(e){e.preventDefault();$(this).trigger("fire")});if(e.hasClass("slideshow")){var r=e.data("speed")?e.data("speed"):1e4,i=0,s=true;var o=window.setInterval(function(){if(i<0&&s){var e=t.filter(".active").parent().next().find("a");if(e.size()==0)e=t.first();e.trigger("fire")}else{--i}},r);t.click(function(e){i=2});var u=$(window),a=parseInt(e.outerHeight(true)),f=parseInt(e.offset().top);u.scroll(function(){s=u.scrollTop()+u.height()>f&&u.scrollTop()<f+a})}if(e.hasClass("same-height")){var l=0;n.each(function(){if($(this).height()>l){l=$(this).height()}});n.height(l)}})}})