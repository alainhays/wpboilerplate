// Grid
// grid.wpbp.less
// Grid system based on 960.gs
// -----------------------------------------------------

// Choose a decent box model first
* { .box-sizing(border-box); }

body { min-width: 960px; }

// CONTAINERS
// --------------------------------------------------

.container {
    width: auto;
    margin: 0;
}

.container_12,
.container_16 {
    margin-left: auto;
    margin-right: auto;
    width: 960px;
}

// GRID GLOBAL STYLES
// --------------------------------------------------

.grid_1,
.grid_2,
.grid_3,
.grid_4,
.grid_5,
.grid_6,
.grid_7,
.grid_8,
.grid_9,
.grid_10,
.grid_11,
.grid_12,
.grid_13,
.grid_14,
.grid_15,
.grid_16 {
    float: left;
    position: relative;
    padding: 0 10px;
    min-height: 1px;

    &.center { text-align: center; }
    &.left { text-align: left; }
    &.right { text-align: right; }
}

.push_1, .pull_1,
.push_2, .pull_2,
.push_3, .pull_3,
.push_4, .pull_4,
.push_5, .pull_5,
.push_6, .pull_6,
.push_7, .pull_7,
.push_8, .pull_8,
.push_9, .pull_9,
.push_10, .pull_10,
.push_11, .pull_11,
.push_12, .pull_12,
.push_13, .pull_13,
.push_14, .pull_14,
.push_15, .pull_15 {
    position: relative;
}

// GRID CHILDREN
// Alpha = First, Omega = Last
// --------------------------------------------------

.alpha {
    padding-left: 0;
}

.omega {
    padding-right: 0;
}

// GENERATORS
// --------------------------------------------------

// Column Space
// -------------------------

.colSpace (@index, @colWidth) when (@index > 0) {
    (~".grid_@{index}") {
        width: @colWidth * @index;
    }

    .colSpace(@index - 1, @colWidth);
}

.colSpace (@index, @colWidth) when (@index = 0) {}

// Prefix Space
// -------------------------

.prefixSpace (@index, @colWidth) when (@index > 0) {
    (~".prefix_@{index}") {
        padding-left: @colWidth * @index;
    }

    .prefixSpace(@index - 1, @colWidth);
}

.prefixSpace (@index, @colWidth) when (@index = 0) {}

// Suffix Space
// -------------------------

.suffixSpace (@index, @colWidth) when (@index > 0) {
    (~".suffix_@{index}") {
        padding-right: @colWidth * @index;
    }

    .suffixSpace(@index - 1, @colWidth);
}

.suffixSpace (@index, @colWidth) when (@index = 0) {}

// Push Space
// -------------------------

.pushSpace (@index, @colWidth) when (@index > 0) {
    (~".push_@{index}") {
        left: @colWidth * @index;
    }

    .pushSpace(@index - 1, @colWidth);
}

.pushSpace (@index, @colWidth) when (@index = 0) {}

// Pull Space
// -------------------------

.pullSpace (@index, @colWidth) when (@index > 0) {
    (~".pull_@{index}") {
        left: -@colWidth * @index;
    }

    .pullSpace(@index - 1, @colWidth);
}

.pullSpace (@index, @colWidth) when (@index = 0) {}

// 12 COLUMNS GRID
// --------------------------------------------------

.container_12 {

    @cols:      12;
    @colWidth:  8.333333333333333%;

    // Column Space
    // -------------------------

    .colSpace(@cols, @colWidth);

    // Prefix Space
    // -------------------------

    .prefixSpace(@cols, @colWidth);

    // Suffix Space
    // -------------------------

    .suffixSpace(@cols, @colWidth);

    // Push Space
    // -------------------------

    .pushSpace(@cols, @colWidth);

    // Pull Space
    // -------------------------

    .pullSpace(@cols, @colWidth);

}

// 16 COLUMNS GRID
// --------------------------------------------------

.container_16 {

    @cols:      16;
    @colWidth:  6.250%;

    // Column Space
    // -------------------------

    .colSpace(@cols, @colWidth);


    // Prefix Space
    // -------------------------

    .prefixSpace(@cols, @colWidth);

    // Suffix Space
    // -------------------------

    .suffixSpace(@cols, @colWidth);

    // Push Space
    // -------------------------

    .pushSpace(@cols, @colWidth);

    // Pull Space
    // -------------------------

    .pullSpace(@cols, @colWidth);
}

// BLOCK GRIDS
// --------------------------------------------------

.block_grid {
    > * {
        display: block;
        float: left;
        position: relative;
        padding: 0 10px;
        min-height: 1px;
    }

    &.by_2 > * { width: 100% / 2.00; }
    &.by_3 > * { width: 100% / 3.00; }
    &.by_4 > * { width: 100% / 4.00; }
    &.by_5 > * { width: 100% / 5.00; }
    &.by_6 > * { width: 100% / 6.00; }
    &.by_7 > * { width: 100% / 7.00; }
    &.by_8 > * { width: 100% / 8.00; }
    &.by_9 > * { width: 100% / 9.00; }
    &.by_10 > * { width: 100% / 10.00; }
}

// RESPONSIVE GRID
// --------------------------------------------------

body.responsive,
body.mobile-responsive {

    // Responsive embed content
    img,
    embed,
    iframe {
        max-width: 100%;
    }

}

@media only screen and (min-width: @screenXlarge) {
    body.responsive {
        min-width: 1560px;

        .container_12,
        .container_16 {
            width: 1560px;
        }
    }
}

@media only screen and (min-width: @screenLarge) and (max-width: @screenXlarge) {
    body.responsive {
        min-width: 1200px;

        .container_12,
        .container_16 {
            width: 1200px;
        }
    }
}

// 981px - 1280px
@media only screen and (min-width: @screenMedium) and (max-width: @screenLarge) {
    body.responsive {
        min-width: 960px;

        .container_12,
        .container_16 {
            width: 960px;
        }
    }
}

// 761px - 980px
@media only screen and (min-width: @screenSmall) and (max-width: @screenMedium) {
    body.responsive {
        min-width: 720px;

        .container_12,
        .container_16 {
            width: 720px;
        }
    }
}

// Below 760px
@media only screen and (max-width: @screenSmall) {
    body.responsive,
    body.mobile-responsive {
        min-width: 100%;

        .container_12,
        .container_16 {
            width: 100%;
        }

        .grid_1,
        .grid_2,
        .grid_3,
        .grid_4,
        .grid_5,
        .grid_6,
        .grid_7,
        .grid_8,
        .grid_9,
        .grid_10,
        .grid_11,
        .grid_12,
        .grid_13,
        .grid_14,
        .grid_15,
        .grid_16 {
            float: none;
            width: 100%;

            &.mobile-center { text-align: center; }
            &.mobile-left { text-align: left; }
            &.mobile-right { text-align: right; }
        }

        .block_grid > * {
            width: 100%;
        }
    }
}


// CLEAR FLOATS
// --------------------------------------------------

.clear {
    clear: both;
    display: block;
    overflow: hidden;
    visibility: hidden;
    width: 0;
    height: 0;
}

.clearfix:before,
.clearfix:after,
.container_12:before,
.container_12:after,
.container_16:before,
.container_16:after {
    content: '.';
    display: block;
    overflow: hidden;
    visibility: hidden;
    font-size: 0;
    line-height: 0;
    width: 0;
    height: 0;
}

.clearfix:after,
.container_12:after,
.container_16:after {
    clear: both;
}

.clearfix,
.container_12,
.container_16 {
    zoom: 1;
}

// FIXES (require Modernizr)
// --------------------------------------------------

// Fix for browsers not supporting box-sizing
html.no-boxsizing {
    .grid_1,
    .grid_2,
    .grid_3,
    .grid_4,
    .grid_5,
    .grid_6,
    .grid_7,
    .grid_8,
    .grid_9,
    .grid_10,
    .grid_11,
    .grid_12,
    .grid_13,
    .grid_14,
    .grid_15,
    .grid_16 {
        padding: 0;
    }
}